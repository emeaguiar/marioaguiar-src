(function(a){var b=a.module("aguiar",["ngSanitize","matchmedia-ng","ngRoute","aguiar.controllers","analytics"]);b.config(["$routeProvider","$locationProvider",function(d,c){d.when("/",{title:"Home",templateUrl:"views/home.html"}).when("/blog",{title:"Blog archives",templateUrl:"/views/archive.html",controller:"archivesController",controllerAs:"archive"}).when("/blog/:title",{templateUrl:"/views/post.html",controller:"postController",controllerAs:"single"}).when("/blog/page/:page",{templateUrl:"/views/archive.html",controller:"archivesController",controllerAs:"archive"});if(window.history&&window.history.pushState){c.html5Mode(true)}}]);b.directive("commentForm",function(){return{restrict:"A",postId:"=postId",controller:"commentFormCtrl",controllerAs:"commentForm"}});b.directive("sectionFooter",function(){return{restrict:"E",templateUrl:"/views/footer.html"}});b.directive("welcomeMessage",["matchmedia",function(c){return{restrict:"A",controller:function(){var e=c.isPhone(),d=c.is("screen and (min-width: 1200px)");this.title="<strong>front-end developer</strong>";this.technologies="<br><em>WordPress</em> &amp; <em>Drupal</em>";if(e){this.title="<br><strong>frontend</strong> <strong>developer</strong><br>";this.technologies="<br><em>WordPress</em> &amp; <em>Drupal</em>"}else{if(d){this.title="<strong>frontend developer</strong>";this.technologies="<br><em>WordPress</em> &amp; <em>Drupal</em>"}}},controllerAs:"message"}}]);b.directive("contactForm",function(){return{restrict:"A",controller:"contactFormCtrl",controllerAs:"form"}});b.filter("wpDate",["$filter",function(c){return function(e,g){if(e!==undefined){var h=e.match(/\d+/g),f=new Date(h[0],h[1]-1,h[2],h[3],h[4],h[5]);return c("date")(f,g)}}}]);b.filter("mainTitle",function(){return function(c){if(c==="Home"){return"Portfolio of Wordpress, Drupal, and Front End Developer Mario Aguiar"}else{return c+" - Wordpress, Drupal, and Front End Developer Mario Aguiar"}}});b.run(["$rootScope","analytics",function(c){c.page={setTitle:function(d){this.title=d}};c.$on("$routeChangeSuccess",function(e,f,d){c.page.setTitle(f.$$route.title||"Home")})}]);analytics=a.module("analytics",["ng"]);analytics.service("analytics",["$rootScope","$window","$location",function(c,e,f){var d=function(){e.ga("send","pageview",{page:f.path()})};c.$on("$viewContentLoaded",d)}])})(angular);(function(a){var b=a.module("aguiar.controllers",["ngSanitize","ngRoute"]);b.controller("archivesController",["$scope","$http","$location","$routeParams",function(c,f,e,d){c.page=(d.page)?d.page:1;this.getPosts=function(g){c.loading=true;f.get("/cms/wp-json/posts/?page="+c.page).success(function(j,h,k,i){c.posts=j;c.loading=false;c.totalPages=k("X-WP-TotalPages")})};this.nextPage=function(){c.page++;e.path("/blog/page/"+c.page);this.getPosts(c.page)};this.prevPage=function(){c.page--;e.path("/blog/page/"+c.page);this.getPosts(c.page)};this.getPosts(c.page)}]);b.controller("postController",["$scope","$http","$routeParams",function(d,f,e){var c=e.title;d.loading=true;f.get("/cms/wp-json/posts?filter[name]="+c).success(function(g){d.page.setTitle(g[0].title);d.posts=g;d.loading=false})}]);b.controller("commentFormCtrl",["$http",function(c){}]);b.controller("contactFormCtrl",["$http",function(d){var c=this;c.email={};c.success=false;c.sendMessage=function(e){d({method:"POST",url:"/includes/mail.php",data:e,headers:{"Content-Type":"application/x-www-form-urlencoded"}}).success(function(f){if(f.success){c.success=true}else{c.error=true}})}}])})(angular);"use strict";angular.module("matchmedia-ng",[]).provider("matchmedia",function(){var a={rules:{print:"print",screen:"screen",phone:"(max-width: 767px)",tablet:"(min-width: 768px) and (max-width: 979px)",desktop:"(min-width: 979px)",portrait:"(orientation: portrait)",landscape:"(orientation: landscape)"}};a.$get=["$window","safeApply","logger",function(f,d,c){c.log("Creating matchmedia");function e(g,h){return function(i){d(function(){g(i)},h)}}var b={};b.on=function(k,j,g){c.log("adding listener for query: "+k);var i=f.matchMedia(k);var h=e(j,g);i.addListener(h);h(i);return function(){c.log("removing listener from query: "+k);i.removeListener(h)}};b.is=function(g){c.log("test query: "+g);return f.matchMedia(g).matches};b.onPrint=function(h,g){return b.on(a.rules.print,h,g)};b.onScreen=function(h,g){return b.on(a.rules.screen,h,g)};b.onPhone=function(h,g){return b.on(a.rules.phone,h,g)};b.onTablet=function(h,g){return b.on(a.rules.tablet,h,g)};b.onDesktop=function(h,g){return b.on(a.rules.desktop,h,g)};b.onPortrait=function(h,g){return b.on(a.rules.portrait,h,g)};b.onLandscape=function(h,g){return b.on(a.rules.landscape,h,g)};b.isPrint=function(){return b.is(a.rules.print)};b.isScreen=function(){return b.is(a.rules.screen)};b.isPhone=function(){return b.is(a.rules.phone)};b.isTablet=function(){return b.is(a.rules.tablet)};b.isDesktop=function(){return b.is(a.rules.desktop)};b.isPortrait=function(){return b.is(a.rules.portrait)};b.isLandscape=function(){return b.is(a.rules.landscape)};return b}];return a}).factory("safeApply",["$rootScope",function(a){return function(d,c){c=c||a;var b=c.$root.$$phase;if(b=="$apply"||b=="$digest"){if(d){c.$eval(d)}}else{if(d){c.$apply(d)}else{c.$apply()}}}}]).provider("logger",function(){this.DEVMODE=false;this.setDEVMODE=function(a){this.DEVMODE=a};this.$get=["$window",function(c){var b=this.DEVMODE;var a={};a.log=function(){b&&console.log.apply(console,arguments)};a.always=function(){console.log.apply(console,arguments)};return a}]}).config(["loggerProvider",function(a){a.setDEVMODE(true)}]);